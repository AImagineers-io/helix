# P78: Dashboard Integration

## 1. Objective

**What**: Connect existing dashboard components to real analytics API data. Remove mock data, add real queries.

**Why**: Dashboard components exist but show placeholder data. With real data flowing through analytics APIs, wire up the frontend.

**Scope**:
- Included: Dashboard API hooks, loading states, date range filtering
- Excluded: New dashboard features, chart redesign

**Depends on**: P74 (analytics service), P76 (event stream)

## 2. Implementation Tasks

- [ ] Analytics API hooks (2 files, ~80 LOC)
  - Tests: tests/components/hooks/useAnalytics.test.tsx
  - Files: src/hooks/useAnalytics.ts, src/hooks/index.ts
  - Methods: useAnalyticsSummary(), useCostBreakdown(), useConversationStats()

- [ ] Update StatsCard components (2 files, ~60 LOC)
  - Tests: tests/components/StatsCard.test.tsx
  - Files: src/components/dashboard/StatsCard.tsx, src/components/dashboard/index.ts
  - Depends on: P78.1
  - Replace hardcoded values with hook data

- [ ] Update CostWidget component (1 file, ~50 LOC)
  - Tests: tests/components/CostWidget.test.tsx
  - Files: src/components/dashboard/CostWidget.tsx
  - Depends on: P78.1
  - Show provider breakdown, projection with confidence

- [ ] Date range filter (2 files, ~70 LOC)
  - Tests: tests/components/DateRangeFilter.test.tsx
  - Files: src/components/dashboard/DateRangeFilter.tsx, src/components/dashboard/Dashboard.tsx
  - Depends on: P78.1
  - Preset: Today, This Week, This Month, Last 30 Days, Custom

- [ ] Loading and empty states (2 files, ~40 LOC)
  - Tests: tests/components/LoadingStates.test.tsx
  - Files: src/components/common/LoadingSpinner.tsx, src/components/common/EmptyState.tsx
  - Depends on: P78.2
  - Skeleton loaders, "No data" messaging

- [ ] Event stream panel (2 files, ~100 LOC)
  - Tests: tests/components/EventStreamPanel.test.tsx
  - Files: src/components/dashboard/EventStreamPanel.tsx, src/hooks/useEventStream.ts
  - Depends on: P76
  - Connect to SSE endpoint, display real-time events

## 3. Success Criteria

- [ ] Dashboard loads real conversation counts
- [ ] Dashboard loads real cost data with provider breakdown
- [ ] Date range filter updates all widgets
- [ ] Loading states display during API calls
- [ ] Empty states display when no data
- [ ] Event stream panel shows live events
- [ ] All component tests pass
- [ ] No console errors on dashboard page
